<aqgrlib-tree-table [data]="tableData">

    <aqgrlib-tree-table-column prop="name">
        <ng-template aqgrlibTreeTableColumnHeader>Countries</ng-template>
        <ng-template let-value="value" let-level="level" let-row="row" aqgrlibTreeTableColumnCell>
            <span *ngIf="level===0">{{value}}</span>
            <span *ngIf="level===1">
                <span *ngIf="row.ftypes===0"><i>{{value}}</i></span>
                <a [routerLink]="['/specie', (production)?row.alphaCode:'MIL']" *ngIf="row.ftypes!==0"><i>{{value}}</i></a>
            </span>
        </ng-template>
    </aqgrlib-tree-table-column>

    <aqgrlib-tree-table-column prop="ftypes" headerClass="number">
        <ng-template aqgrlibTreeTableColumnHeader>Farmed types</ng-template>
        <ng-template let-value="value" aqgrlibTreeTableColumnCell>{{value}}</ng-template>
    </aqgrlib-tree-table-column>

    <aqgrlib-tree-table-column prop="lastModifiedDate">
        <ng-template aqgrlibTreeTableColumnHeader>Last update</ng-template>
        <ng-template let-value="value" aqgrlibTreeTableColumnCell>{{value | date:defaultDateFormat}}</ng-template>
    </aqgrlib-tree-table-column>

    <aqgrlib-tree-table-column prop="status" cellClass="status">
        <ng-template aqgrlibTreeTableColumnHeader>Status</ng-template>
        <ng-template let-value="value" aqgrlibTreeTableColumnCell>
            <span [ngClass]="value">{{value}}</span>
        </ng-template>
    </aqgrlib-tree-table-column>

    <aqgrlib-tree-table-column cellClass="actions" headerClass="actions">
        <ng-template aqgrlibTreeTableColumnHeader>Actions</ng-template>
        <ng-template let-row="row" aqgrlibTreeTableColumnCell>
            <button type="button" class="btn mx-2 btn-success" *ngIf="row.status===statuses.accepted" (click)="onPublishClick(row)">Publish</button>
            <button type="button" class="btn mx-2 btn-warning" *ngIf="row.status===statuses.published" (click)="onUnpublishClick(row)">Unpublish</button>
            <span *ngIf="row.ftypes===0">
                <button type="button" class="btn mx-2 btn-success" *ngIf="row.status===statuses.new || row.status===statuses.rejected" (click)="onAcceptClick(row)">Accept</button>
                <button type="button" class="btn mx-2 btn-danger" *ngIf="row.status===statuses.new || row.status===statuses.accepted" (click)="onRejectClick(row)">Reject</button>
            </span>
        </ng-template>
    </aqgrlib-tree-table-column>

</aqgrlib-tree-table>
